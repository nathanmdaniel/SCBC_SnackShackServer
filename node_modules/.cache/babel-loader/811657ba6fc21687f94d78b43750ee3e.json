{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\n\nvar AutocompleteNames =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AutocompleteNames, _Component);\n\n  function AutocompleteNames(props) {\n    var _this;\n\n    _classCallCheck(this, AutocompleteNames);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AutocompleteNames).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (e) {\n      var suggestions = _this.props.getNames();\n\n      var userInput = e.currentTarget.value; // Filter our suggestions that don't contain the user's input\n\n      var filteredSuggestions = suggestions.filter(function (suggestion) {\n        return suggestion.toLowerCase().indexOf(userInput.toLowerCase()) > -1;\n      }); // Update the user input and filtered suggestions, reset the active\n      // suggestion and make sure the suggestions are shown\n\n      _this.setState({\n        activeSuggestion: 0,\n        filteredSuggestions: filteredSuggestions,\n        showSuggestions: true,\n        userInput: e.currentTarget.value\n      });\n\n      if (_this.props.lookupBalance) _this.props.lookupBalance(userInput);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (e) {\n      // Update the user input and reset the rest of the state\n      _this.setState({\n        activeSuggestion: 0,\n        filteredSuggestions: [],\n        showSuggestions: false,\n        userInput: e.currentTarget.innerText\n      });\n\n      if (_this.props.lookupBalance) _this.props.lookupBalance(e.currentTarget.innerText);\n    });\n\n    _this.state = {\n      // The active selection's index\n      activeSuggestion: 0,\n      // The suggestions that match the user's input\n      filteredSuggestions: [],\n      // Whether or not the suggestion list is shown\n      showSuggestions: false,\n      // What the user has entered\n      userInput: \"\"\n    };\n    return _this;\n  } // Event fired when the input value is changed\n\n\n  _createClass(AutocompleteNames, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.transactionNum != this.props.transactionNum) {\n        this.setState({\n          userInput: \"\"\n        });\n        this.props.lookupBalance(\"\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var onChange = this.onChange,\n          onClick = this.onClick,\n          onKeyDown = this.onKeyDown,\n          _this$state = this.state,\n          activeSuggestion = _this$state.activeSuggestion,\n          filteredSuggestions = _this$state.filteredSuggestions,\n          showSuggestions = _this$state.showSuggestions,\n          userInput = _this$state.userInput;\n      var suggestionsListComponent;\n\n      if (showSuggestions && userInput) {\n        if (filteredSuggestions.length) {\n          suggestionsListComponent = React.createElement(MenuList, null, filteredSuggestions.map(function (suggestion, index) {\n            var className; // Flag the active suggestion with a class\n\n            if (index === activeSuggestion) {\n              className = \"suggestion-active\";\n            }\n\n            return React.createElement(MenuItem, {\n              className: className,\n              key: suggestion,\n              onClick: onClick\n            }, suggestion);\n          }));\n        } else {\n          suggestionsListComponent = React.createElement(\"div\", null);\n        }\n      }\n\n      return React.createElement(Fragment, null, React.createElement(Input, {\n        placeholder: \"Camper Name\",\n        onChange: onChange,\n        onKeyDown: onKeyDown,\n        value: userInput\n      }), suggestionsListComponent);\n    }\n  }]);\n\n  return AutocompleteNames;\n}(Component);\n\n_defineProperty(AutocompleteNames, \"propTypes\", {\n  suggestions: PropTypes.instanceOf(Array)\n});\n\n_defineProperty(AutocompleteNames, \"defaultProps\", {\n  suggestions: []\n});\n\nexport default AutocompleteNames;","map":{"version":3,"sources":["C:\\cs_projects\\SCBC_SnackShackServer\\pages\\Accounts\\AutocompleteNames.js"],"names":["React","Component","Fragment","PropTypes","MenuList","MenuItem","Input","AutocompleteNames","props","e","suggestions","getNames","userInput","currentTarget","value","filteredSuggestions","filter","suggestion","toLowerCase","indexOf","setState","activeSuggestion","showSuggestions","lookupBalance","innerText","state","prevProps","transactionNum","onChange","onClick","onKeyDown","suggestionsListComponent","length","map","index","className","instanceOf","Array"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nclass AutocompleteNames extends Component {\r\n    static propTypes = {\r\n        suggestions: PropTypes.instanceOf(Array)\r\n    };\r\n\r\n    static defaultProps = {\r\n        suggestions: []\r\n    };\r\n\r\n        constructor(props) {\r\n            super(props);\r\n\r\n            this.state = {\r\n                // The active selection's index\r\n                activeSuggestion: 0,\r\n                // The suggestions that match the user's input\r\n                filteredSuggestions: [],\r\n                // Whether or not the suggestion list is shown\r\n                showSuggestions: false,\r\n                // What the user has entered\r\n                userInput: \"\"\r\n            };\r\n        }\r\n\r\n        // Event fired when the input value is changed\r\n        onChange = e => {\r\n            const suggestions = this.props.getNames();\r\n            const userInput = e.currentTarget.value;\r\n\r\n            // Filter our suggestions that don't contain the user's input\r\n            const filteredSuggestions = suggestions.filter(\r\n              suggestion =>\r\n                  suggestion.toLowerCase().indexOf(userInput.toLowerCase()) > -1\r\n            );\r\n\r\n            // Update the user input and filtered suggestions, reset the active\r\n            // suggestion and make sure the suggestions are shown\r\n            this.setState({\r\n                activeSuggestion: 0,\r\n                filteredSuggestions,\r\n                showSuggestions: true,\r\n                userInput: e.currentTarget.value\r\n            });\r\n            if(this.props.lookupBalance) \r\n                this.props.lookupBalance(userInput);\r\n        };\r\n\r\n        // Event fired when the user clicks on a suggestion\r\n        onClick = e => {\r\n            // Update the user input and reset the rest of the state\r\n            this.setState({\r\n                activeSuggestion: 0,\r\n                filteredSuggestions: [],\r\n                showSuggestions: false,\r\n                userInput: e.currentTarget.innerText\r\n            });\r\n            if(this.props.lookupBalance) \r\n                this.props.lookupBalance(e.currentTarget.innerText);\r\n        };\r\n\r\n        \r\n        componentDidUpdate(prevProps) {\r\n            if (prevProps.transactionNum != this.props.transactionNum) {\r\n                this.setState({userInput: \"\"});\r\n                this.props.lookupBalance(\"\");\r\n            }\r\n        }\r\n\r\n        render() {\r\n            const {\r\n                onChange,\r\n                onClick,\r\n                onKeyDown,\r\n                state: {\r\n                    activeSuggestion,\r\n                    filteredSuggestions,\r\n                    showSuggestions,\r\n                    userInput\r\n                }\r\n            } = this;\r\n\r\n            let suggestionsListComponent;\r\n\r\n            if (showSuggestions && userInput) {\r\n                if (filteredSuggestions.length) {\r\n                    suggestionsListComponent = (\r\n                      <MenuList>\r\n                        {filteredSuggestions.map((suggestion, index) => {\r\n                            let className;\r\n\r\n                            // Flag the active suggestion with a class\r\n                            if (index === activeSuggestion) {\r\n                                className = \"suggestion-active\";\r\n                            }\r\n\r\n                            return (\r\n                              <MenuItem\r\n                                className={className}\r\n                              key={suggestion}\r\n                    onClick={onClick}\r\n                  >\r\n                    {suggestion}\r\n                  </MenuItem>\r\n                        );\r\n                })}\r\n            </MenuList>\r\n              );\r\n        } else {\r\n          suggestionsListComponent = (\r\n            <div/>\r\n          );\r\n    }\r\n}\r\n\r\nreturn (\r\n  <Fragment>\r\n    <Input\r\n      placeholder=\"Camper Name\"\r\n      onChange={onChange}\r\n      onKeyDown={onKeyDown}\r\n      value={userInput}\r\n    />\r\n{suggestionsListComponent}\r\n  </Fragment>\r\n    );\r\n}\r\n}\r\n\r\nexport default AutocompleteNames;"]},"metadata":{},"sourceType":"module"}