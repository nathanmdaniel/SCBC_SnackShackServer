{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport ButtonAppBar from './ButtonAppBar/ButtonAppBar.js';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport EnvelopeList from './CheckOut/EnvelopeList.js';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nvar theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#B5D565\"\n    },\n    secondary: {\n      main: \"#FAEBD7\"\n    }\n  }\n});\n\nvar CheckOutPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(CheckOutPage, _React$Component);\n\n  var _super = _createSuper(CheckOutPage);\n\n  function CheckOutPage(props) {\n    var _this;\n\n    _classCallCheck(this, CheckOutPage);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      // envel_arr: [[[\"Christopher Scott\", 7.50]],[[\"Shirley Temple\", 0.50], [\"Zachary Temple\", 2.00]], [[\"Jon Snow\", 47.50]]],\n      envel_arr: [],\n      checked: []\n    });\n\n    _this.setChecked = _this.setChecked.bind(_assertThisInitialized(_this));\n    _this.merge = _this.merge.bind(_assertThisInitialized(_this));\n    _this.divide = _this.divide.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CheckOutPage, [{\n    key: \"readAccounts\",\n    value: function readAccounts() {\n      var _this2 = this;\n\n      // var url = 'http://192.168.1.2:3001/RecordsJson'\n      var url = 'http://localhost:3001/RecordsJson';\n      fetch(url).then(function (response) {\n        return response.json();\n      }).then(function (myJson) {\n        var ret = [];\n        myJson.forEach(function (info) {\n          ret.push([[info.Name, info.Balance]]);\n        });\n        console.log(ret);\n        console.log(typeof ret[0][0], typeof ret[0][1]);\n\n        _this2.setState({\n          envel_arr: ret\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.readAccounts();\n    }\n  }, {\n    key: \"setChecked\",\n    value: function setChecked(newCheckedIndex) {\n      var currentIndex = this.state.checked.indexOf(newCheckedIndex);\n\n      var newChecked = _toConsumableArray(this.state.checked);\n\n      if (currentIndex === -1) {\n        newChecked.push(newCheckedIndex);\n        console.log(\"checkbox-list-label-\" + newCheckedIndex);\n        console.log(document.getElementById(\"checkbox-list-label-\" + newCheckedIndex));\n        document.getElementById(\"checkbox-list-label-\" + newCheckedIndex).setAttribute(\"checked\", \"true\");\n      } else {\n        newChecked.splice(currentIndex, 1);\n        console.log(\"checkbox-list-label-\" + newCheckedIndex);\n        console.log(document.getElementById(\"checkbox-list-label-\" + newCheckedIndex));\n        document.getElementById(\"checkbox-list-label-\" + newCheckedIndex).setAttribute(\"checked\", \"false\");\n      }\n\n      this.setState({\n        checked: newChecked\n      });\n    }\n  }, {\n    key: \"merge\",\n    value: function merge() {\n      // console.log(\"in merge\")\n      // console.log(\"checked (entering merge) \", this.state.checked)\n      var new_envel = _toConsumableArray(this.state.envel_arr); // add duplicate first\n\n\n      for (var i = 1; i < this.state.checked.length; ++i) {\n        var toAdd = new_envel[this.state.checked[i]]; // console.log(\"checked[0]: \", new_envel[this.state.checked[0]]);\n        // console.log(\"toAdd: \", toAdd);\n\n        new_envel[this.state.checked[0]] = new_envel[this.state.checked[0]].concat(toAdd);\n      } // remove originals (start from end to not corrupt index values)\n\n\n      for (var i = this.state.checked.length - 1; i > 0; --i) {\n        var _toAdd = new_envel.splice(this.state.checked[i], 1)[0];\n      } // console.log(new_envel)\n\n\n      this.setState({\n        envel_arr: new_envel,\n        checked: []\n      });\n    }\n  }, {\n    key: \"divide\",\n    value: function divide() {\n      var new_envel = _toConsumableArray(this.state.envel_arr);\n\n      var copy_checked = _toConsumableArray(this.state.checked);\n\n      for (var i = 0; i < copy_checked.length; ++i) {\n        var envel_ind = copy_checked[i]; // console.log(\"dividing \", new_envel[envel_ind])\n\n        var toAdd = new_envel[envel_ind].splice(1, new_envel[envel_ind].length - 1); // console.log(\"checked[0]: \", new_envel[this.state.checked[0]]);\n        // console.log(i, \" toAdd: \", toAdd);\n        // console.log(toAdd.pop())\n\n        var added = toAdd.length;\n\n        while (toAdd.length > 0) {\n          new_envel.splice(envel_ind + 1, 0, [toAdd.pop()]); // console.log(new_envel)\n        }\n\n        for (var j = i; j < copy_checked.length; ++j) {\n          if (copy_checked[j] > envel_ind) {\n            copy_checked[j] += added;\n          }\n        }\n      }\n\n      this.setState({\n        envel_arr: new_envel,\n        checked: []\n      }); // console.log(\"envel_arr \", this.state.envel_arr)\n      // console.log(\"checked \", this.state.checked)\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n        theme: theme\n      }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ButtonAppBar, null)), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        spacing: 4,\n        style: {\n          padding: '20px'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 10,\n        style: {\n          minHeight: '200px'\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        style: {\n          padding: '30px',\n          maxHeight: '400px',\n          overflow: 'auto'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        style: {\n          padding: '10px'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 7\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h5\"\n      }, \"Envelopes\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 1\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"overline\"\n      }, \"$20\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 1\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"overline\"\n      }, \"$10\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 1\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"overline\"\n      }, \"$5\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 1\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"overline\"\n      }, \"$1\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 1\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"overline\"\n      }, \"$0.25\"))), /*#__PURE__*/React.createElement(EnvelopeList, {\n        envelopes: this.state.envel_arr,\n        checked: this.state.checked,\n        setChecked: this.setChecked\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 10,\n        style: {\n          minHeight: '200px'\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        style: {\n          padding: '20px'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 8\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\"\n      }, \"Selected Items: \", this.state.checked.length)), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        onClick: this.merge,\n        style: {\n          backgroundColor: '#6891E9',\n          color: 'white'\n        }\n      }, \"Merge\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        onClick: this.divide,\n        style: {\n          backgroundColor: '#E86C16',\n          color: 'white'\n        }\n      }, \"Divide\"))))))));\n    }\n  }]);\n\n  return CheckOutPage;\n}(React.Component);\n\nexport default CheckOutPage;","map":{"version":3,"sources":["C:/cs_projects/SCBC_SS2020/SCBC_SnackShackServer/pages/CheckOutPage.js"],"names":["React","ButtonAppBar","MuiThemeProvider","createMuiTheme","Paper","Grid","EnvelopeList","Typography","Button","theme","palette","primary","main","secondary","CheckOutPage","props","envel_arr","checked","setChecked","bind","merge","divide","url","fetch","then","response","json","myJson","ret","forEach","info","push","Name","Balance","console","log","setState","catch","error","readAccounts","newCheckedIndex","currentIndex","state","indexOf","newChecked","document","getElementById","setAttribute","splice","new_envel","i","length","toAdd","concat","copy_checked","envel_ind","added","pop","j","padding","minHeight","maxHeight","overflow","backgroundColor","color","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ButtonAppBar from './ButtonAppBar/ButtonAppBar.js';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport EnvelopeList from './CheckOut/EnvelopeList.js';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst theme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: \"#B5D565\"\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: \"#FAEBD7\"\r\n        }\r\n\t}\r\n});\r\n\r\nclass CheckOutPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.setChecked = this.setChecked.bind(this);\r\n        this.merge = this.merge.bind(this);\r\n        this.divide = this.divide.bind(this);\r\n\r\n    }\r\n    state = {\r\n        // envel_arr: [[[\"Christopher Scott\", 7.50]],[[\"Shirley Temple\", 0.50], [\"Zachary Temple\", 2.00]], [[\"Jon Snow\", 47.50]]],\r\n        envel_arr: [],\r\n        checked: []\r\n    };\r\n\r\n    readAccounts() {\r\n        // var url = 'http://192.168.1.2:3001/RecordsJson'\r\n        var url = 'http://localhost:3001/RecordsJson'\r\n        fetch(url).then(response => {\r\n            return response.json();\r\n        })\r\n        .then(myJson => {\r\n            var ret = [];\r\n            myJson.forEach(info =>{\r\n                ret.push([[info.Name, info.Balance]])\r\n            })\r\n            console.log(ret);\r\n            console.log(typeof ret[0][0], typeof ret[0][1])\r\n            this.setState({envel_arr: ret});\r\n        })\r\n        .catch((error) => {\r\n            console.error(error);\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        this.readAccounts();\r\n    }\r\n\r\n    setChecked(newCheckedIndex) {\r\n        const currentIndex = this.state.checked.indexOf(newCheckedIndex);\r\n        const newChecked = [...this.state.checked];\r\n    \r\n        if (currentIndex === -1) {\r\n          newChecked.push(newCheckedIndex);\r\n          console.log(\"checkbox-list-label-\" + newCheckedIndex)\r\n          console.log(document.getElementById(\"checkbox-list-label-\" + newCheckedIndex))\r\n          document.getElementById(\"checkbox-list-label-\" + newCheckedIndex).setAttribute(\"checked\", \"true\")\r\n        } else {\r\n          newChecked.splice(currentIndex, 1);\r\n          console.log(\"checkbox-list-label-\" + newCheckedIndex)\r\n          console.log(document.getElementById(\"checkbox-list-label-\" + newCheckedIndex))\r\n          document.getElementById(\"checkbox-list-label-\" + newCheckedIndex).setAttribute(\"checked\", \"false\")\r\n        }\r\n        this.setState( {checked: newChecked} );\r\n    }\r\n\r\n    merge() {\r\n        // console.log(\"in merge\")\r\n        \r\n        // console.log(\"checked (entering merge) \", this.state.checked)\r\n        var new_envel = [...this.state.envel_arr];\r\n        // add duplicate first\r\n        for (var i = 1; i < this.state.checked.length; ++i) {\r\n            const toAdd = new_envel[this.state.checked[i]];\r\n            // console.log(\"checked[0]: \", new_envel[this.state.checked[0]]);\r\n            // console.log(\"toAdd: \", toAdd);\r\n            new_envel[this.state.checked[0]] = new_envel[this.state.checked[0]].concat(toAdd);\r\n        }\r\n        // remove originals (start from end to not corrupt index values)\r\n        for (var i = this.state.checked.length - 1; i > 0; --i) {\r\n            const toAdd = new_envel.splice(this.state.checked[i], 1)[0];\r\n        }\r\n        // console.log(new_envel)\r\n        this.setState({envel_arr: new_envel, checked: []});\r\n    }\r\n\r\n    divide() {\r\n        var new_envel = [...this.state.envel_arr];\r\n        var copy_checked = [...this.state.checked];\r\n        for (var i = 0; i < copy_checked.length; ++i) {\r\n            const envel_ind = copy_checked[i]\r\n            // console.log(\"dividing \", new_envel[envel_ind])\r\n            const toAdd = new_envel[envel_ind].splice(1, new_envel[envel_ind].length - 1);\r\n            // console.log(\"checked[0]: \", new_envel[this.state.checked[0]]);\r\n            // console.log(i, \" toAdd: \", toAdd);\r\n            // console.log(toAdd.pop())\r\n            var added = toAdd.length;\r\n            while (toAdd.length > 0) {\r\n                new_envel.splice(envel_ind + 1, 0, [toAdd.pop()]);\r\n                // console.log(new_envel)\r\n            }\r\n            for (var j = i; j < copy_checked.length; ++j) {\r\n                if (copy_checked[j] > envel_ind) {\r\n                    copy_checked[j] += added;\r\n                }\r\n            }\r\n        }\r\n        this.setState({envel_arr: new_envel, checked: []});\r\n        // console.log(\"envel_arr \", this.state.envel_arr)\r\n        // console.log(\"checked \", this.state.checked)\r\n    }\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n                <MuiThemeProvider theme={theme}>\r\n                    <div>\r\n                        <ButtonAppBar/>\r\n                    </div>\r\n                    <Grid container justify='center' spacing={4} style={{padding: '20px'}}>\r\n                        <Grid item sm={10} style={{minHeight: '200px'}}>\r\n                            <Paper style={{padding:'30px',  maxHeight: '400px', overflow: 'auto'}}>\r\n                                <Grid container style={{padding:'10px'}}>\r\n                                    <Grid item sm={7}>\r\n                                        <Typography variant='h5'>Envelopes</Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={1}>\r\n                                        <Typography variant='overline'>$20</Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={1}>\r\n                                        <Typography variant='overline'>$10</Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={1}>\r\n                                        <Typography variant='overline'>$5</Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={1}>\r\n                                        <Typography variant='overline'>$1</Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={1}>\r\n                                        <Typography variant='overline'>$0.25</Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                                <EnvelopeList envelopes={this.state.envel_arr} checked={this.state.checked} setChecked={this.setChecked}/>\r\n                            </Paper>\r\n                        </Grid>\r\n                        <Grid item sm={10} style={{minHeight: '200px'}}>\r\n                            <Paper style={{padding:'20px'}}>\r\n                                <Grid container>\r\n                                    <Grid item sm={8}>\r\n                                        <Typography variant='h6'>Selected Items: {this.state.checked.length}</Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={2}>\r\n                                        <Button variant=\"contained\" onClick={this.merge} style={{backgroundColor: '#6891E9', color: 'white'}}>\r\n                                            Merge\r\n                                        </Button>\r\n                                    </Grid>\r\n                                    <Grid item sm={2}>\r\n                                        <Button variant=\"contained\" onClick={this.divide} style={{backgroundColor: '#E86C16', color: 'white'}}>\r\n                                            Divide\r\n                                        </Button>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                </MuiThemeProvider>\r\n            </div>\r\n        );\r\n\t\t\t\t}\t\r\n}\r\n\r\nexport default CheckOutPage;\r\n"]},"metadata":{},"sourceType":"module"}